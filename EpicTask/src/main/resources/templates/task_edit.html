<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:include="_template :: head" ></head>
<body>
	
<div class="content">

	<h2 th:text="#{edit.task}"></h2>

	<form action="/task/update" method="POST" th:object="${task}">
	
		<input type="hidden" th:field="*{id}" >
		
		<input 
			type="text" 
			th:placeholder="#{placeholder.title}" 
			th:field=*{title}
			th:classappend="${#fields.hasErrors('title')} ? invalid" 
		/>
		<span th:errors="*{title}"></span>
		
		<input 
			type="text" 
			th:placeholder="#{placeholder.description}" 
			th:field=*{description}
			value="Verificar diagrama de classe" 
			th:classappend="${#fields.hasErrors('description')} ? invalid" 
		/>
		<span th:errors="*{description}"></span>

		<label th:placeholder="#{placeholder.point}"></label>
		<input name="point" th:field=*{point} type="number" min="1" max="100" id="point" />
		<input type="range" min="1" max="100" id="range-point" />
		
		<label th:placeholder="#{placeholder.status}" ></label>
		<input name="status" th:field=*{status} type="number" min="1" max="100" id="status" />
		<input type="range" min="1" max="100" id="range-point-percentage" />

		<div class="actions">
			<a href="/task" class="btn" th:text="#{button.cancel}"></a>
			<a th:href="${'/task/delete/' + id}" th:text="#{button.delete}" class="btn red"></a>
			<button class="btn blue" th:text="#{button.save}"></button>
		</div>

	</form>
	
</div>
<script>
	document.querySelector("#range-point").addEventListener("input",(e) => document.querySelector("#point").value= (e.target.value))
	document.querySelector("#point").addEventListener("change",(e) => document.querySelector("#range-point").value= (e.target.value))
	document.querySelector("#range-point-percentage").addEventListener("input",(e) => document.querySelector("#status").value= (e.target.value))
	document.querySelector("#status").addEventListener("change",(e) => document.querySelector("#range-point-percentage").value= (e.target.value))
</script>
</body>
</html>